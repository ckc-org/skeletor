FROM oven/bun:latest

# Cypress dependencies
RUN apt update && apt install -y libgtk2.0-0 libgtk-3-0 libgbm-dev libnotify-dev libgconf-2-4 libnss3 libxss1 libasound2 libxtst6 xauth xvfb unzip

# Prepare main directory
WORKDIR /frontend

# Copy package files first (for better layer caching)
COPY src/frontend/package*.json ./

# Copy the rest of the frontend code
COPY src/frontend ./
